:targets:
  - :name:          # insert name
    :type:          redshift
    :host:          # insert host
    :database:      # insert database name (default: snowplow)
    :port:          # insert database port (default: 5439)
    :username:      # insert Redshift user name (default: datamodeling)
    :password:      # insert Redshift user password
:variables:
    :input_schema:   # insert schema name (default: atomic)
    :scratch_schema: # insert schema name (default: scratch)
    :output_schema:  # insert schema name (default: derived)
    :update_cadence: # insert time period (must be a valid Redshift INTERVAL, eg 1 week)
:steps:
  - :name: 00-setup-sessions
    :queries:
      - :name: 00-setup-sessions
        :file: incremental-web-model/02-sessions/00-setup-sessions.sql
        :template: true
  - :name: 01-select-page-views
    :queries:
      - :name: 01-select-page-view-ids
        :file: incremental-web-model/02-sessions/01-select-page-view-ids.sql
        :template: true
  - :name: 02-sessions
    :queries:
      - :name: 02-sessions
        :file: incremental-web-model/02-sessions/02-sessions.sql
        :template: true
  - :name: 03-delete-sessions
    :queries:
      - :name: 03-delete-sessions
        :file: incremental-web-model/02-sessions/03-delete-sessions.sql
        :template: true
  - :name: 04-append-sessions
    :queries:
      - :name: 04-append-sessions
        :file: incremental-web-model/02-sessions/04-append-sessions.sql
        :template: true
  - :name: 05-populate-sessions-manifest
    :queries:
      - :name: 05-populate-sessions-manifest
        :file: incremental-web-model/02-sessions/05-populate-sessions-manifest.sql
        :template: true
  - :name: 06-cleanup
    :queries:
      - :name: 06-cleanup
        :file: incremental-web-model/02-sessions/06-cleanup.sql
        :template: true
  - :name: 07-vacuum
    :queries:
      - :name: 07-vacuum
        :file: incremental-web-model/02-sessions/07-vacuum.sql
        :template: true
  - :name: 08-analyze
    :queries:
      - :name: 08-analyze
        :file: incremental-web-model/02-sessions/08-analyze.sql
        :template: true
